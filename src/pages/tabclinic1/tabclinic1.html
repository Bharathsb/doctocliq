<ion-header>
	<link rel="stylesheet" href="build/angular-calendar.css">
	<link rel="stylesheet" href="build/angular-calendar-week-hours-view.scss">
	<ion-navbar no-padding>
		<ion-title>
			<ion-row>
				<ion-col col-4>
					<button ion-button full clear icon-only mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate">
						<ion-icon name="ios-arrow-back"></ion-icon>{{'Back' | translate}}
					</button>
				</ion-col>
				<ion-col col-4 text-center>
					<ion-label>{{'Agenda' | translate}}</ion-label>
				</ion-col>
				<ion-col col-4>
					<button ion-button (click)="openMenu()">
						<ion-icon name="more"></ion-icon>
					</button>
				</ion-col>
			</ion-row>
		</ion-title>
	</ion-navbar>
</ion-header>

<ion-content>
	<ion-row>
		<ion-col col-12 col-md-3>
			<ion-row>
				<ion-col col-4 no-padding>
					<ion-label class="label-startendday">
						<span *ngIf="!isListView">{{ _startdayOfWeek }} - {{ _enddayOfWeek }}</span>
						<span *ngIf="isListView">{{listViewDate}}</span>
					</ion-label>
				</ion-col>
				<ion-col col-4 no-padding>
					<ion-row>
						<ion-col col-2 no-padding>
							<button ion-button full clear icon-only mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate" (click)="decrement()"
							 [disabled]="prevBtnDisabled">
								<ion-icon name="ios-arrow-back"></ion-icon>
							</button>
						</ion-col>
						<ion-col col-8 no-padding>
							<button ion-button full clear mwlCalendarToday [(viewDate)]="viewDate" (click)="today()">Today</button>
						</ion-col>
						<ion-col col-2 no-padding>
							<button ion-button full clear icon-only mwlCalendarNextView [view]="view" [(viewDate)]="viewDate" (click)="increment()" [disabled]="nextBtnDisabled">
								<ion-icon name="ios-arrow-forward"></ion-icon>
							</button>
						</ion-col>
					</ion-row>
				</ion-col>
				<ion-col col-2 no-padding></ion-col>
				<ion-col col-2 no-padding>
					<ion-toggle toggle-class="toggle-assertive" [(ngModel)]="isListView" (ionChange)="loadListData()">
					</ion-toggle>
				</ion-col>
			</ion-row>
		</ion-col>
	</ion-row>

	<div *ngIf="!isListView">
		<ion-label>
			<b>Filter:
				<button ion-button >
					<span (click)="filterDoctors()"  *ngIf="doctorName === undefined">{{ 'Select' | translate }}</span>
					<span (click)="removeFilterDoctors()">{{doctorName}} <ion-icon name="close" *ngIf="doctorName !== undefined"></ion-icon></span>
				</button>
			</b>
		</ion-label>
		<iq-calendar-week-hours-view [viewDate]="viewDate" [events]="events" [excludeDays]="excludeDays" [hourSegments]="2" [dayStartHour]="9"
		 [dayEndHour]="21" (eventClicked)="handleEvent($event.event)" (hourSegmentClicked)="hourSegmentClicked($event)" (eventTimesChanged)="eventTimesChanged($event)"
		 [weekStartsOn]="1" [refresh]="refresh" [locale]="locale">
		</iq-calendar-week-hours-view>

		<!-- <ion-row>
		   <ion-col col-12 col-md-3>
			   <ion-row>
				   <ion-label>
					   <b>Doctores:
						   <button ion-button (click)="loadEvents(listAppointments.appointment)">{{'See all' | translate}}</button>
					   </b>
				   </ion-label>
			   </ion-row>
			   <ion-list>
				   <button ion-item *ngFor="let item of doctors" (click)="selectedDoctor(item)" style="cursor: pointer; padding: 4px;">
					   <span  [style.background]="item.color" class="doctors-rowdata"> {{ item.name }} </span> </button>
			   </ion-list>
		   </ion-col>
	   </ion-row> -->
	</div>
	<div *ngIf="isListView">
		<ion-grid>
			<ion-row *ngFor="let data of listevents">
				<ion-col>
					{{data.time}}
				</ion-col>
				<ion-col>
					{{data.patientName}}
				</ion-col>
				<ion-col>
					{{data.reason}}
				</ion-col>
			</ion-row>
		</ion-grid>
	</div>

</ion-content>